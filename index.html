<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Campus Moments Gallery</title>

    <link rel="modulepreload" href="/src/photo-gallery.js" />

    <style>
      :root { color-scheme: light dark; }
      body { margin: 0; font-family: system-ui, sans-serif; background: Canvas; color: CanvasText; }
      .fallback { padding: 16px; font-size: 14px; opacity: .8; }
    </style>

    <script type="module">
      import '/src/photo-gallery.js';

      window.addEventListener('DOMContentLoaded', () => {
        const el = document.querySelector('photo-gallery');
        if (!el) {
          const msg = document.createElement('div');
          msg.className = 'fallback';
          msg.textContent = 'App failed to mount. Check console for errors.';
          document.body.prepend(msg);
        }
      });
    </script>

    <script nomodule>
      document.write('<div class="fallback">This site needs a modern browser with ES module support.</div>');
    </script>
  </head>
  <body>
    <photo-gallery></photo-gallery>
  </body>
</html>
